{% extends "base.html" %}

{% block title %}Metric Detail{% endblock %}

{% block content %}
<h2>Metric Detail</h2>
{% if metric %}
<div class="metric">
    <h3>{{ metric.metric_type }}</h3>
    <p>Device: {{ metric.device }}</p>
    <p>Timestamp: {{ metric.timestamp }}</p>
    <p>Value: {{ metric.value }} {{ metric.unit }}</p>
</div>
<a href="{{ url_for('metrics') }}">Back to Metrics</a>
<button id="historyButton">See Historic Records</button>
{% else %}
<p>No metric found for the specified type.</p>
<a href="{{ url_for('metrics') }}">Back to Metrics</a>
{% endif %}
{% endblock %}

{% block scripts %}
<script>
    document.getElementById('historyButton').addEventListener('click', function() {
        window.location.href = "{{ url_for('metric_history', metric_type=metric.metric_type) }}";
    });
</script>
{% endblock %}
